const originalTitle=document.title;let titleTimer;document.addEventListener('visibilitychange',()=>{if(document.hidden){document.title='👀你在哪呢？';clearTimeout(titleTimer)}else{document.title='🤣找到你啦～';titleTimer=setTimeout(()=>{document.title=originalTitle},2000)}});const leonus={linkCom:(type)=>{const textarea=document.querySelector(".el-textarea__inner");if(!textarea)return;const templates={bf:{content:`\`\`\`yml\n-name:\n link:\n avatar:\n descr:\n siteshot:\n\`\`\``,selectionStart:15,selectionEnd:15},default:{content:"站点名称：\n站点地址：\n头像链接：\n站点描述：\n站点截图：",selectionStart:5,selectionEnd:5}};const template=templates[type]||templates.default;textarea.value=template.content;textarea.setSelectionRange(template.selectionStart,template.selectionEnd);textarea.focus()},owoBig:()=>{const postComment=document.getElementById("post-comment");if(!postComment||document.body.clientWidth<768)return;let isHovering=true;let hoverTimer="";const owoBigElement=document.createElement("div");owoBigElement.id="owo-big";document.body.appendChild(owoBigElement);const observer=new MutationObserver((mutations)=>{mutations.forEach((mutation)=>{mutation.addedNodes.forEach((node)=>{if(node.nodeType!==Node.ELEMENT_NODE)return;let targetElement=null;if(node.classList?.contains("OwO-body")&&mutation.addedNodes.length===2){targetElement=mutation.addedNodes[1]}else if(node.classList?.contains("tk-comment")&&mutation.addedNodes.length===1){targetElement=node}if(targetElement){this.setupOwoHoverEvents(targetElement,owoBigElement,isHovering,hoverTimer)}})})});observer.observe(postComment,{subtree:true,childList:true})},setupOwoHoverEvents:(element,owoElement,isHovering,timer)=>{element.onmouseover=(event)=>{if(!isHovering)return;const isOwOBody=element.classList.contains("OwO-body")&&event.target.tagName==="IMG";const isTkEmotion=element.classList.contains("tk-owo-emotion");if(isOwOBody||isTkEmotion){isHovering=false;timer=setTimeout(()=>{const scale=3;const height=scale*event.target.clientHeight;const width=scale*event.target.clientWidth;let left=event.x-event.offsetX-(width-event.target.clientWidth)/2;const top=event.y-event.offsetY;if(left+width>document.body.clientWidth){left-=left+width-document.body.clientWidth+10}if(left<0)left=10;owoElement.style.cssText=`display:flex;height:${height}px;width:${width}px;left:${left}px;top:${top}px;`;owoElement.innerHTML=`<img src="${event.target.src}"alt="放大表情">`},300)}};element.onmouseout=()=>{owoElement.style.display="none";isHovering=true;clearTimeout(timer)}}};function createTimeCounter(){const startTime=new Date("2023-01-22 08:00:00");function updateTime(){const now=new Date();const timeDiff=now-startTime;const days=Math.floor(timeDiff/(1000*60*60*24));const hours=Math.floor((timeDiff%(1000*60*60*24))/(1000*60*60));const minutes=Math.floor((timeDiff%(1000*60*60))/(1000*60));const seconds=Math.floor((timeDiff%(1000*60))/1000);const formatNumber=(num)=>num.toString().padStart(2,'0');const currentTimeHtml=`<div style="font-size:13px;font-weight:bold">本站居然运行了${days}天${formatNumber(hours)}小时${formatNumber(minutes)}分${formatNumber(seconds)}秒<i id="heartbeat"class="fas fa-heartbeat"></i></div>`;const workboard=document.getElementById("workboard");if(workboard){workboard.innerHTML=currentTimeHtml}}updateTime();setInterval(updateTime,1000)}createTimeCounter();