//åŠ¨æ€æ ‡é¢˜
var OriginTitile = document.title;
var titleTime;
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //ç¦»å¼€å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = 'ğŸ‘€ä½ åœ¨å“ªå‘¢ï¼Ÿ';
    clearTimeout(titleTime);
  } else {
    //è¿”å›å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = 'ğŸ¤£æ‰¾åˆ°ä½ å•¦ï½';
    //ä¸¤ç§’åå˜å›æ­£å¸¸æ ‡é¢˜
    titleTime = setTimeout(function () {
      document.title = OriginTitile;
    }, 2000);
  }
});
var leonus = {
    linkCom: e => {
        var t = document.querySelector(".el-textarea__inner");
        "bf" == e ? (t.value = "```yml\n", t.value += "- name: \n  link: \n  avatar: \n  descr: \n  siteshot: ", t.value += "\n```", t.setSelectionRange(15, 15)) : (t.value = "ç«™ç‚¹åç§°ï¼š\nç«™ç‚¹åœ°å€ï¼š\nå¤´åƒé“¾æ¥ï¼š\nç«™ç‚¹æè¿°ï¼š\nç«™ç‚¹æˆªå›¾ï¼š", t.setSelectionRange(5, 5)), t.focus()
    },
    owoBig: () => {
        if (!document.getElementById("post-comment") || document.body.clientWidth < 768) return;
        let e = 1,
            t = "",
            o = document.createElement("div"),
            n = document.querySelector("body");
        o.id = "owo-big", n.appendChild(o), new MutationObserver((l => {
            for (let a = 0; a < l.length; a++) {
                let i = l[a].addedNodes,
                    s = "";
                if (2 == i.length && "OwO-body" == i[1].className) s = i[1];
                else {
                    if (1 != i.length || "tk-comment" != i[0].className) continue;
                    s = i[0]
                }
                s.onmouseover = l => {
                    e && ("OwO-body" == s.className && "IMG" == l.target.tagName || "tk-owo-emotion" == l.target.className) && (e = 0, t = setTimeout((() => {
                        let e = 3 * l.path[0].clientHeight,
                            t = 3 * l.path[0].clientWidth,
                            a = l.x - l.offsetX - (t - l.path[0].clientWidth) / 2,
                            i = l.y - l.offsetY;
                        a + t > n.clientWidth && (a -= a + t - n.clientWidth + 10), a < 0 && (a = 10), o.style.cssText = `display:flex; height:${e}px; width:${t}px; left:${a}px; top:${i}px;`, o.innerHTML = `<img src="${l.target.src}">`
                    }), 300))
                }, s.onmouseout = () => {
                    o.style.display = "none", e = 1, clearTimeout(t)
                }
            }
        })).observe(document.getElementById("post-comment"), {
            subtree: !0,
            childList: !0
        })
    },
};

var now = new Date();
function createtime() {
  // å½“å‰æ—¶é—´
  now.setTime(now.getTime() + 1000);
  var start = new Date("01/22/2023 00:00:00"); // æ—…è¡Œè€…1å·å¼€å§‹è®¡ç®—çš„æ—¶é—´
  var dis = Math.trunc(100 + ((now - start) / 1000) * 17); // è·ç¦»=ç§’æ•°*é€Ÿåº¦ è®°ä½è½¬æ¢æ¯«ç§’
  var unit = (dis / 149600000).toFixed(6);  // å¤©æ–‡å•ä½
  var grt = new Date("01/22/2023 00:00:00");	// ç½‘ç«™è¯ç”Ÿæ—¶é—´
  var days = (now - grt) / 1e3 / 60 / 60 / 24,
    dnum = Math.floor(days),
    hours = (now - grt) / 1e3 / 60 / 60 - 24 * dnum,
    hnum = Math.floor(hours);
  1 == String(hnum).length && (hnum = "0" + hnum);
  var minutes = (now - grt) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
    mnum = Math.floor(minutes);
  1 == String(mnum).length && (mnum = "0" + mnum);
  var seconds = (now - grt) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
    snum = Math.round(seconds);
  1 == String(snum).length && (snum = "0" + snum);
  let currentTimeHtml = "";
  (currentTimeHtml =
    hnum < 20 && hnum >= 7
    ? `<img class='boardsign' src='https://img.shields.io/badge/M%E7%AB%99-%E5%AD%A6%E4%B9%A0%E4%B8%AD-blue' title='ä»€ä¹ˆæ—¶å€™èƒ½å¤Ÿå®ç°è´¢å¯Œè‡ªç”±å‘€~'><br> <div style="font-size:13px;font-weight:bold">æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤© ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ <i id="heartbeat" class='fas fa-heartbeat'></i> <br> æ—…è¡Œè€… 1 å·å½“å‰è·ç¦»åœ°çƒ ${dis} åƒç±³ï¼Œçº¦ä¸º ${unit} ä¸ªå¤©æ–‡å•ä½ ğŸš€</div>`
    : `<img class='boardsign' src='https://img.shields.io/badge/M%E7%AB%99-%E7%9D%A1%E8%A7%89%E4%B8%AD-brightgreen' title='è¯¥ç¡è§‰å•¦~'><br> <div style="font-size:13px;font-weight:bold">æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤© ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ <i id="heartbeat" class='fas fa-heartbeat'></i> <br> æ—…è¡Œè€… 1 å·å½“å‰è·ç¦»åœ°çƒ ${dis} åƒç±³ï¼Œçº¦ä¸º ${unit} ä¸ªå¤©æ–‡å•ä½ ğŸš€</div>`),
    document.getElementById("workboard") &&
    (document.getElementById("workboard").innerHTML = currentTimeHtml);
}
// è®¾ç½®é‡å¤æ‰§è¡Œå‡½æ•°ï¼Œå‘¨æœŸ1000ms
setInterval(() => {
  createtime();
}, 1000);
//åŠ¨æ€æ ‡é¢˜
var OriginTitile = document.title;
var titleTime;
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //ç¦»å¼€å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = 'ğŸ‘€ä½ åœ¨å“ªå‘¢ï¼Ÿ';
    clearTimeout(titleTime);
  } else {
    //è¿”å›å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = 'ğŸ¤£æ‰¾åˆ°ä½ å•¦ï½';
    //ä¸¤ç§’åå˜å›æ­£å¸¸æ ‡é¢˜
    titleTime = setTimeout(function () {
      document.title = OriginTitile;
    }, 2000);
  }
});
var leonus = {
    linkCom: e => {
        var t = document.querySelector(".el-textarea__inner");
        "bf" == e ? (t.value = "```yml\n", t.value += "- name: \n  link: \n  avatar: \n  descr: \n  siteshot: ", t.value += "\n```", t.setSelectionRange(15, 15)) : (t.value = "ç«™ç‚¹åç§°ï¼š\nç«™ç‚¹åœ°å€ï¼š\nå¤´åƒé“¾æ¥ï¼š\nç«™ç‚¹æè¿°ï¼š\nç«™ç‚¹æˆªå›¾ï¼š", t.setSelectionRange(5, 5)), t.focus()
    },
    owoBig: () => {
        if (!document.getElementById("post-comment") || document.body.clientWidth < 768) return;
        let e = 1,
            t = "",
            o = document.createElement("div"),
            n = document.querySelector("body");
        o.id = "owo-big", n.appendChild(o), new MutationObserver((l => {
            for (let a = 0; a < l.length; a++) {
                let i = l[a].addedNodes,
                    s = "";
                if (2 == i.length && "OwO-body" == i[1].className) s = i[1];
                else {
                    if (1 != i.length || "tk-comment" != i[0].className) continue;
                    s = i[0]
                }
                s.onmouseover = l => {
                    e && ("OwO-body" == s.className && "IMG" == l.target.tagName || "tk-owo-emotion" == l.target.className) && (e = 0, t = setTimeout((() => {
                        let e = 3 * l.path[0].clientHeight,
                            t = 3 * l.path[0].clientWidth,
                            a = l.x - l.offsetX - (t - l.path[0].clientWidth) / 2,
                            i = l.y - l.offsetY;
                        a + t > n.clientWidth && (a -= a + t - n.clientWidth + 10), a < 0 && (a = 10), o.style.cssText = `display:flex; height:${e}px; width:${t}px; left:${a}px; top:${i}px;`, o.innerHTML = `<img src="${l.target.src}">`
                    }), 300))
                }, s.onmouseout = () => {
                    o.style.display = "none", e = 1, clearTimeout(t)
                }
            }
        })).observe(document.getElementById("post-comment"), {
            subtree: !0,
            childList: !0
        })
    },
};
